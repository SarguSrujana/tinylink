'use client';import{useState}from'react';export default function Form(){const[url,setUrl]=useState('');const[code,setCode]=useState('');const[msg,setMsg]=useState(null);async function submit(e){e.preventDefault();setMsg(null);try{new URL(url);}catch{return setMsg("Invalid URL");}const r=await fetch('/api/links',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({url,code:code||undefined})});const d=await r.json();if(!r.ok)return setMsg(d.error);setMsg("Created: "+d.code);setUrl('');setCode('');setTimeout(()=>location.reload(),500);}return(<form onSubmit={submit} className='bg-white shadow p-4 rounded space-y-3'><input className='border p-2 w-full' placeholder='Long URL' value={url} onChange={e=>setUrl(e.target.value)}/><input className='border p-2 w-full' placeholder='Custom code (optional)' value={code} onChange={e=>setCode(e.target.value)}/><button className='bg-blue-600 text-white px-4 py-2 rounded'>Create</button>{msg && <p>{msg}</p>}</form>);}